{"ast":null,"code":"var _jsxFileName = \"/Users/sreedharperim/Aditi/Sem-5/Classroom/gclass_fullstack_final_v5_full/frontend/src/components/CalendarView.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport API from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CalendarView({\n  classId,\n  onEventClick\n}) {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (!classId) return;\n    setLoading(true);\n    API.get(`/assignments/class/${classId}`).then(res => {\n      const assignments = res.data || [];\n      const evts = assignments.filter(a => a.due_date).map(a => ({\n        id: String(a.id),\n        title: a.title,\n        start: a.due_date,\n        allDay: false,\n        extendedProps: a,\n        backgroundColor: '#1A73E8',\n        borderColor: '#1558b0',\n        textColor: '#fff'\n      }));\n      setEvents(evts);\n    }).catch(err => {\n      console.error('Calendar fetch failed', err);\n      setEvents([]);\n    }).finally(() => setLoading(false));\n  }, [classId]);\n  function handleEventClick(clickInfo) {\n    var _clickInfo$event$star;\n    const appt = clickInfo.event.extendedProps;\n    if (onEventClick) onEventClick(appt);else alert(`${clickInfo.event.title}\\nDue: ${(_clickInfo$event$star = clickInfo.event.start) === null || _clickInfo$event$star === void 0 ? void 0 : _clickInfo$event$star.toLocaleString()}\\n\\n${appt.description || ''}`);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: 360\n    },\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: \"Loading calendar\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1,\n      columnNumber: 1220\n    }, this), /*#__PURE__*/_jsxDEV(FullCalendar, {\n      plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],\n      initialView: \"dayGridMonth\",\n      headerToolbar: {\n        left: 'prev,next today',\n        center: 'title',\n        right: 'dayGridMonth,timeGridWeek,timeGridDay'\n      },\n      weekends: true,\n      events: events,\n      eventClick: handleEventClick,\n      height: \"auto\",\n      dayMaxEvents: 3,\n      themeSystem: \"standard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1,\n      columnNumber: 1266\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1,\n    columnNumber: 1179\n  }, this);\n}\n_s(CalendarView, \"3GNOaRxNaKFSEMY1/P4HtwfEYdg=\");\n_c = CalendarView;\nvar _c;\n$RefreshReg$(_c, \"CalendarView\");","map":{"version":3,"names":["React","useEffect","useState","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","API","jsxDEV","_jsxDEV","CalendarView","classId","onEventClick","_s","events","setEvents","loading","setLoading","get","then","res","assignments","data","evts","filter","a","due_date","map","id","String","title","start","allDay","extendedProps","backgroundColor","borderColor","textColor","catch","err","console","error","finally","handleEventClick","clickInfo","_clickInfo$event$star","appt","event","alert","toLocaleString","description","style","minHeight","children","className","fileName","_jsxFileName","lineNumber","columnNumber","plugins","initialView","headerToolbar","left","center","right","weekends","eventClick","height","dayMaxEvents","themeSystem","_c","$RefreshReg$"],"sources":["/Users/sreedharperim/Aditi/Sem-5/Classroom/gclass_fullstack_final_v5_full/frontend/src/components/CalendarView.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'; import FullCalendar from '@fullcalendar/react'; import dayGridPlugin from '@fullcalendar/daygrid'; import timeGridPlugin from '@fullcalendar/timegrid'; import interactionPlugin from '@fullcalendar/interaction'; import API from '../api'; export default function CalendarView({ classId, onEventClick }) { const [events,setEvents]=useState([]); const [loading,setLoading]=useState(true); useEffect(()=>{ if(!classId) return; setLoading(true); API.get(`/assignments/class/${classId}`).then(res=>{ const assignments = res.data||[]; const evts = assignments.filter(a=>a.due_date).map(a=>({ id:String(a.id), title:a.title, start:a.due_date, allDay:false, extendedProps:a, backgroundColor:'#1A73E8', borderColor:'#1558b0', textColor:'#fff' })); setEvents(evts); }).catch(err=>{ console.error('Calendar fetch failed', err); setEvents([]); }).finally(()=>setLoading(false)); },[classId]); function handleEventClick(clickInfo){ const appt = clickInfo.event.extendedProps; if(onEventClick) onEventClick(appt); else alert(`${clickInfo.event.title}\\nDue: ${clickInfo.event.start?.toLocaleString()}\\n\\n${appt.description || ''}`); } return (<div style={{minHeight:360}}>{loading && <div className='card'>Loading calendarâ€¦</div>}<FullCalendar plugins={[dayGridPlugin,timeGridPlugin,interactionPlugin]} initialView='dayGridMonth' headerToolbar={{left:'prev,next today',center:'title',right:'dayGridMonth,timeGridWeek,timeGridDay'}} weekends={true} events={events} eventClick={handleEventClick} height='auto' dayMaxEvents={3} themeSystem='standard' /></div>); }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}